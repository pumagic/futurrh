<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test des M√©tiers RH de Demain</title>
    <!-- Biblioth√®ques n√©cessaires -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- Pour l'affichage des ic√¥nes -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <style>
        /* Styles CSS */
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: #ffffff;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background-color: #1e1e1e;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
        }

        h1, h2 {
            text-align: center;
            color: #4caf50;
        }

        p.intro {
            text-align: center;
            font-size: 1.1em;
            color: #cccccc;
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin: 10px 0;
            font-size: 1.1em;
        }

        input[type="text"] {
            width: 100%;
            padding: 10px;
            margin: 10px 0 20px 0;
            font-size: 1em;
            border: none;
            border-radius: 5px;
        }

        button {
            display: inline-block;
            margin: 20px 10px;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            background-color: #4caf50;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #45a049;
        }

        #result {
            margin-top: 30px;
            text-align: center;
        }

        canvas {
            max-width: 100%;
            margin: 20px auto;
        }

        .download-btn {
            margin-top: 20px;
            background-color: #36a2eb;
        }

        /* Style pour les questions */
        .question-text {
            color: #ffce56;
            margin-bottom: 15px;
            font-weight: bold;
        }

        /* Style pour les r√©ponses */
        .answer-label {
            margin-left: 10px;
        }

        /* Masquer toutes les questions par d√©faut */
        .question-container {
            display: none;
        }

        /* Centrer les boutons */
        .navigation-buttons {
            text-align: center;
        }

        /* Style pour la barre de progression */
        .progress-bar {
            width: 100%;
            background-color: #555;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 20px;
            height: 25px;
        }

        .progress-bar-fill {
            height: 100%;
            background-color: #4caf50;
            width: 0%;
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ffffff;
            font-weight: bold;
        }

        /* Style pour les ic√¥nes des profils */
        .profile-icon {
            font-size: 50px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Quel m√©tier RH de demain est fait pour vous ?</h1>
        <p class="intro">
            D√©couvrez √† quel m√©tier RH du futur vous correspondez ! <br>
            Entrez vos informations pour un r√©sultat personnalis√© et partageable üìÑ.
        </p>

        <!-- Formulaire pour le nom et le pr√©nom -->
        <form id="user-form">
            <label for="name">Nom :</label>
            <input type="text" id="name" placeholder="Entrez votre nom" required>
            <label for="surname">Pr√©nom :</label>
            <input type="text" id="surname" placeholder="Entrez votre pr√©nom" required>
            <button type="button" id="start-quiz">Commencer le Quiz</button>
        </form>

        <!-- Zone pour afficher les questions -->
        <form id="quiz-form" style="display:none;">
            <!-- Barre de progression -->
            <div class="progress-bar">
                <div class="progress-bar-fill" id="progress-bar-fill">0%</div>
            </div>

            <div id="question-container"></div>
            <div class="navigation-buttons">
                <button type="button" id="prev-btn" style="display:none;">Pr√©c√©dent</button>
                <button type="button" id="next-btn">Suivant</button>
                <button type="submit" id="submit-btn" style="display:none;">Voir mon r√©sultat</button>
            </div>
        </form>

        <div id="career-goal-form" style="display:none;">
            <label for="career-goal">O√π souhaitez-vous √©voluer dans les RH ? (optionnel)</label>
            <input type="text" id="career-goal" placeholder="D√©crivez vos objectifs de carri√®re">
            <button type="button" id="see-result-btn">Voir mon r√©sultat</button>
        </div>

        <div id="result"></div>
    </div>

    <script>
        const profiles = {
            1: "Responsable √âthique de l'IA RH",
            2: "Strat√®ge de la Marque Employeur Digitale",
            3: "Designer d'Exp√©rience Collaborateur",
            4: "Architecte des Talents Augment√©s",
            5: "Analyste RH Pr√©dictif"
        };

        const profilesInfo = {
            "Responsable √âthique de l'IA RH": {
                description: "Vous √™tes le gardien de l'√©thique dans le monde num√©rique des RH ! üõ°Ô∏è Vous veillez √† ce que l'utilisation des technologies respecte les valeurs humaines.",
                sectors: "Grandes entreprises, ONG, institutions publiques",
                missions: "Mettre en place des politiques √©thiques, assurer la conformit√© l√©gale, former les √©quipes aux bonnes pratiques",
                challenges: "√âquilibrer innovation et respect des valeurs, g√©rer les risques li√©s √† l'IA",
                icon: "fas fa-balance-scale" // Ic√¥ne Font Awesome
            },
            "Strat√®ge de la Marque Employeur Digitale": {
                description: "Cr√©atif et connect√©, vous √™tes le magicien qui rend l'entreprise irr√©sistible aux yeux des talents ! üé©‚ú®",
                sectors: "Startups, entreprises technologiques, agences de communication",
                missions: "D√©velopper la pr√©sence en ligne, cr√©er des campagnes attractives, g√©rer les r√©seaux sociaux",
                challenges: "Se d√©marquer dans un march√© comp√©titif, suivre les tendances digitales",
                icon: "fas fa-bullhorn"
            },
            "Designer d'Exp√©rience Collaborateur": {
                description: "Architecte du bonheur au travail, vous cr√©ez des environnements o√π chacun s'√©panouit ! üåü",
                sectors: "Entreprises orient√©es culture d'entreprise, soci√©t√©s de conseil",
                missions: "Am√©liorer l'engagement, organiser des √©v√©nements internes, recueillir le feedback des employ√©s",
                challenges: "Adapter les initiatives aux besoins vari√©s, mesurer l'impact sur la performance",
                icon: "fas fa-users"
            },
            "Architecte des Talents Augment√©s": {
                description: "√Ä la pointe de la technologie, vous √©quipez les collaborateurs d'outils futuristes pour booster leur potentiel ! üöÄ",
                sectors: "Entreprises innovantes, secteurs technologiques, industries 4.0",
                missions: "Int√©grer de nouvelles technologies, former les √©quipes aux outils IA, optimiser les processus",
                challenges: "G√©rer le changement, assurer l'adoption des technologies, maintenir la s√©curit√© des donn√©es",
                icon: "fas fa-robot"
            },
            "Analyste RH Pr√©dictif": {
                description: "Ma√Ætre des donn√©es, vous anticipez les tendances et guidez les d√©cisions strat√©giques ! üìäüîÆ",
                sectors: "Grandes entreprises, cabinets de conseil, institutions financi√®res",
                missions: "Analyser les donn√©es RH, pr√©voir les besoins en recrutement, optimiser les ressources",
                challenges: "Assurer la qualit√© des donn√©es, interpr√©ter correctement les analyses, communiquer les insights",
                icon: "fas fa-chart-line"
            }
        };

       const questions = [
    {
        question: "Vous d√©couvrez une nouvelle plateforme IA pour le recrutement. Que faites-vous ?",
        answers: [
            { text: "J'√©value les b√©n√©fices et les risques pour garantir une utilisation √©thique.", value: 1 },
            { text: "Je teste rapidement pour explorer ses possibilit√©s innovantes.", value: 2 },
            { text: "Je propose √† l'√©quipe de collaborer pour l'int√©grer efficacement.", value: 3 },
            { text: "Je l'ajoute √† mes outils pour optimiser les processus.", value: 4 },
            { text: "J'analyse les donn√©es pour pr√©dire son impact sur nos recrutements.", value: 5 }
        ]
    },
    {
        question: "Votre priorit√© dans un projet RH technologique est :",
        answers: [
            { text: "Assurer que le projet respecte les standards √©thiques.", value: 1 },
            { text: "Introduire des innovations qui renforcent la marque employeur.", value: 2 },
            { text: "Favoriser la collaboration entre les √©quipes impliqu√©es.", value: 3 },
            { text: "Automatiser les t√¢ches pour gagner en efficacit√©.", value: 4 },
            { text: "Utiliser les donn√©es pour anticiper les besoins futurs.", value: 5 }
        ]
    },
    {
        question: "Face √† un probl√®me complexe dans votre √©quipe, vous :",
        answers: [
            { text: "Analysez la situation pour trouver une solution √©thique.", value: 1 },
            { text: "Proposez une id√©e cr√©ative pour r√©soudre le probl√®me.", value: 2 },
            { text: "Organisez une session collaborative pour impliquer tout le monde.", value: 3 },
            { text: "Mettez en place un outil technologique pour automatiser la solution.", value: 4 },
            { text: "√âtudiez les donn√©es disponibles pour identifier la cause profonde.", value: 5 }
        ]
    },
    {
        question: "Un collaborateur se sent d√©pass√© par les outils num√©riques. Vous :",
        answers: [
            { text: "V√©rifiez que les outils sont conformes aux principes √©thiques et accessibles.", value: 1 },
            { text: "Cr√©ez une formation innovante et ludique pour l'aider.", value: 2 },
            { text: "Organisez un atelier collaboratif pour partager les bonnes pratiques.", value: 3 },
            { text: "Simplifiez les processus avec des technologies plus intuitives.", value: 4 },
            { text: "Analysez les donn√©es d'utilisation pour adapter les outils.", value: 5 }
        ]
    },
    {
        question: "Une marque employeur doit selon vous :",
        answers: [
            { text: "Refl√©ter des valeurs √©thiques fortes.", value: 1 },
            { text: "√ätre innovante et cr√©ative pour attirer les talents.", value: 2 },
            { text: "Mettre en avant une culture de collaboration.", value: 3 },
            { text: "Utiliser la technologie pour √™tre omnipr√©sente en ligne.", value: 4 },
            { text: "S'appuyer sur des donn√©es pour cibler efficacement les candidats.", value: 5 }
        ]
    },
    {
        question: "Vous devez pr√©senter un projet IA √† la direction. Votre axe est :",
        answers: [
            { text: "Souligner l'importance de l'√©thique dans l'utilisation de l'IA.", value: 1 },
            { text: "Montrer comment l'IA peut renforcer notre image de marque innovante.", value: 2 },
            { text: "Expliquer l'impact positif sur l'exp√©rience collaborateur.", value: 3 },
            { text: "D√©montrer les gains d'efficacit√© gr√¢ce √† l'automatisation.", value: 4 },
            { text: "Pr√©senter des pr√©dictions bas√©es sur des analyses de donn√©es.", value: 5 }
        ]
    },
    {
        question: "Pour une d√©cision RH complexe, vous vous fiez surtout √† :",
        answers: [
            { text: "Des principes √©thiques solides.", value: 1 },
            { text: "Votre intuition cr√©ative.", value: 2 },
            { text: "Les retours et ressentis des collaborateurs.", value: 3 },
            { text: "Des outils technologiques pour automatiser la d√©cision.", value: 4 },
            { text: "Une analyse approfondie des donn√©es.", value: 5 }
        ]
    },
    {
        question: "Vous imaginez une exp√©rience collaborateur id√©ale comme :",
        answers: [
            { text: "Bas√©e sur le respect et l'√©thique.", value: 1 },
            { text: "Stimulante gr√¢ce √† l'innovation constante.", value: 2 },
            { text: "Enrichie par une forte collaboration entre tous.", value: 3 },
            { text: "Optimis√©e par des technologies avanc√©es.", value: 4 },
            { text: "Personnalis√©e gr√¢ce √† l'analyse des donn√©es.", value: 5 }
        ]
    },
    {
        question: "Vous √™tes charg√© de recruter un talent cl√© pour un poste futuriste. Vous :",
        answers: [
            { text: "√âvaluez l'alignement √©thique du candidat avec l'entreprise.", value: 1 },
            { text: "Cherchez des profils cr√©atifs et visionnaires.", value: 2 },
            { text: "Impliquez l'√©quipe pour choisir le meilleur candidat.", value: 3 },
            { text: "Utilisez des outils d'IA pour filtrer les candidatures.", value: 4 },
            { text: "Analysez les donn√©es pour identifier le profil id√©al.", value: 5 }
        ]
    },
    {
        question: "Un logiciel propose d'automatiser une t√¢che que vous r√©alisez manuellement. Que faites-vous ?",
        answers: [
            { text: "V√©rifiez les implications √©thiques de cette automatisation.", value: 1 },
            { text: "Testez le logiciel pour voir s'il apporte une innovation notable.", value: 2 },
            { text: "Consultez votre √©quipe pour recueillir leurs avis.", value: 3 },
            { text: "L'adoptez pour am√©liorer l'efficacit√©.", value: 4 },
            { text: "Analysez les donn√©es pour mesurer l'impact potentiel.", value: 5 }
        ]
    },
    {
        question: "Pour am√©liorer la marque employeur de votre entreprise, vous misez sur :",
        answers: [
            { text: "Communiquer sur nos engagements √©thiques.", value: 1 },
            { text: "Lancer des campagnes innovantes et cr√©atives.", value: 2 },
            { text: "Valoriser les t√©moignages de nos collaborateurs.", value: 3 },
            { text: "Optimiser notre pr√©sence en ligne gr√¢ce √† la technologie.", value: 4 },
            { text: "Utiliser des analyses pour cibler nos actions marketing.", value: 5 }
        ]
    },
    {
        question: "Un employ√© signale une pr√©occupation √©thique li√©e √† l'IA. Vous :",
        answers: [
            { text: "Prenez le sujet tr√®s au s√©rieux et enqu√™tez imm√©diatement.", value: 1 },
            { text: "Cherchez des solutions innovantes pour r√©soudre le probl√®me.", value: 2 },
            { text: "Organisez une r√©union pour discuter collectivement.", value: 3 },
            { text: "Examinez les param√®tres technologiques pour corriger le probl√®me.", value: 4 },
            { text: "Analysez les donn√©es pour comprendre l'ampleur du souci.", value: 5 }
        ]
    },
    {
        question: "Un collaborateur vous propose une id√©e inattendue pour un projet. Vous :",
        answers: [
            { text: "√âvaluez l'id√©e sous l'angle de l'√©thique et des valeurs.", value: 1 },
            { text: "Encouragez son esprit d'innovation.", value: 2 },
            { text: "Invitez l'√©quipe √† collaborer autour de cette id√©e.", value: 3 },
            { text: "√âtudiez comment la technologie peut soutenir cette id√©e.", value: 4 },
            { text: "Analysez les donn√©es pour voir si l'id√©e est viable.", value: 5 }
        ]
    },
    {
        question: "Vous devez recruter pour un poste impliquant une forte comp√©tence IA. Vous cherchez :",
        answers: [
            { text: "Une personne sensible aux enjeux √©thiques de l'IA.", value: 1 },
            { text: "Un esprit cr√©atif capable d'innover avec l'IA.", value: 2 },
            { text: "Quelqu'un qui sait bien collaborer avec diverses √©quipes.", value: 3 },
            { text: "Un expert technique ma√Ætrisant les outils IA.", value: 4 },
            { text: "Un analyste capable de tirer des insights des donn√©es.", value: 5 }
        ]
    },
    {
        question: "Pour rester √† jour dans votre m√©tier, vous :",
        answers: [
            { text: "Suivez les √©volutions des r√©glementations et de l'√©thique.", value: 1 },
            { text: "Participez √† des conf√©rences sur les innovations RH.", value: 2 },
            { text: "√âchangez r√©guli√®rement avec vos coll√®gues.", value: 3 },
            { text: "Testez les derni√®res technologies disponibles.", value: 4 },
            { text: "Analysez les tendances du march√© gr√¢ce aux donn√©es.", value: 5 }
        ]
    },
    {
        question: "Lors d'un s√©minaire sur l'IA, vous √™tes attir√© par :",
        answers: [
            { text: "Les discussions sur l'√©thique de l'IA.", value: 1 },
            { text: "Les pr√©sentations des derni√®res innovations.", value: 2 },
            { text: "Les ateliers collaboratifs en groupe.", value: 3 },
            { text: "Les d√©monstrations de nouveaux outils technologiques.", value: 4 },
            { text: "Les sessions sur l'analyse pr√©dictive des donn√©es.", value: 5 }
        ]
    },
    {
        question: "Pour g√©rer un changement organisationnel, votre strat√©gie est :",
        answers: [
            { text: "Assurer que le changement respecte nos valeurs √©thiques.", value: 1 },
            { text: "Inspirer les √©quipes avec une vision innovante.", value: 2 },
            { text: "Favoriser la communication et la collaboration.", value: 3 },
            { text: "Utiliser des technologies pour faciliter la transition.", value: 4 },
            { text: "S'appuyer sur des donn√©es pour piloter le changement.", value: 5 }
        ]
    },
    {
        question: "Vous devez optimiser une exp√©rience collaborateur. Votre focus est :",
        answers: [
            { text: "Renforcer l'√©thique et la transparence dans les processus.", value: 1 },
            { text: "Introduire des √©l√©ments innovants et stimulants.", value: 2 },
            { text: "Am√©liorer la collaboration et le bien-√™tre.", value: 3 },
            { text: "Automatiser les t√¢ches pour simplifier le quotidien.", value: 4 },
            { text: "Personnaliser l'exp√©rience gr√¢ce aux donn√©es collect√©es.", value: 5 }
        ]
    },
    {
        question: "Votre vision pour les RH dans 10 ans est :",
        answers: [
            { text: "Des RH √©thiques guidant les entreprises vers le bien commun.", value: 1 },
            { text: "Des RH innovants en constante √©volution.", value: 2 },
            { text: "Des RH centr√©s sur la collaboration et l'humain.", value: 3 },
            { text: "Des RH automatis√©s pour une efficacit√© maximale.", value: 4 },
            { text: "Des RH pr√©dictifs anticipant les besoins gr√¢ce aux donn√©es.", value: 5 }
        ]
    },
    {
        question: "Vous devez repr√©senter votre entreprise lors d'un salon. Vous :",
        answers: [
            { text: "Mettez en avant nos engagements √©thiques et responsables.", value: 1 },
            { text: "Pr√©sentez nos innovations et projets cr√©atifs.", value: 2 },
            { text: "Organisez des activit√©s interactives pour les visiteurs.", value: 3 },
            { text: "D√©voilez nos derni√®res technologies RH.", value: 4 },
            { text: "Partagez des analyses de march√© pour montrer notre expertise.", value: 5 }
        ]
    },
    {
        question: "Pour un poste RH de demain, vous cherchez quelqu'un qui :",
        answers: [
            { text: "A une int√©grit√© et une √©thique irr√©prochables.", value: 1 },
            { text: "Poss√®de un esprit innovant et cr√©atif.", value: 2 },
            { text: "Est excellent en communication et en collaboration.", value: 3 },
            { text: "Ma√Ætrise les technologies et outils modernes.", value: 4 },
            { text: "Excelle dans l'analyse de donn√©es pour la prise de d√©cision.", value: 5 }
        ]
    },
    {
        question: "Vous imaginez un futur RH o√π :",
        answers: [
            { text: "L'√©thique est au c≈ìur de chaque d√©cision.", value: 1 },
            { text: "L'innovation drive les strat√©gies RH.", value: 2 },
            { text: "La collaboration est le pilier central.", value: 3 },
            { text: "La technologie simplifie toutes les t√¢ches.", value: 4 },
            { text: "Les donn√©es permettent d'anticiper les tendances.", value: 5 }
        ]
    },
    {
        question: "En cas de crise dans votre entreprise, vous :",
        answers: [
            { text: "Veillez au respect des principes √©thiques dans les actions.", value: 1 },
            { text: "Instaurez des solutions innovantes pour rebondir.", value: 2 },
            { text: "Encouragez la communication pour r√©soudre les tensions.", value: 3 },
            { text: "Mettez en place des outils pour g√©rer efficacement la crise.", value: 4 },
            { text: "Analysez les donn√©es pour comprendre et agir.", value: 5 }
        ]
    },
    {
        question: "Pour recruter la future g√©n√©ration, vous misez sur :",
        answers: [
            { text: "Un discours transparent et √©thique.", value: 1 },
            { text: "Des campagnes innovantes et disruptives.", value: 2 },
            { text: "Cr√©er des liens authentiques avec les candidats.", value: 3 },
            { text: "Utiliser des plateformes technologiques modernes.", value: 4 },
            { text: "Cibler les candidats gr√¢ce √† l'analyse de donn√©es.", value: 5 }
        ]
    },
    {
        question: "Si vous pouviez r√©volutionner un aspect des RH, ce serait :",
        answers: [
            { text: "Renforcer l'√©thique dans toutes les pratiques RH.", value: 1 },
            { text: "Introduire des innovations constantes.", value: 2 },
            { text: "D√©velopper une culture de collaboration accrue.", value: 3 },
            { text: "Automatiser davantage pour gagner en efficacit√©.", value: 4 },
            { text: "Utiliser les donn√©es pour transformer la prise de d√©cision.", value: 5 }
        ]
    }
];


        let currentQuestionIndex = 0;
        const userAnswers = [];

        const userForm = document.getElementById('user-form');
        const quizForm = document.getElementById('quiz-form');
        const questionContainer = document.getElementById('question-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const startQuizBtn = document.getElementById('start-quiz');
        const progressBarFill = document.getElementById('progress-bar-fill');
        const careerGoalForm = document.getElementById('career-goal-form');
        const seeResultBtn = document.getElementById('see-result-btn');

        startQuizBtn.addEventListener('click', () => {
            // V√©rifier si les champs Nom et Pr√©nom sont remplis
            const name = document.getElementById('name').value.trim();
            const surname = document.getElementById('surname').value.trim();

            if (name === '' || surname === '') {
                alert('Veuillez remplir votre nom et pr√©nom.');
                return;
            }

            userForm.style.display = 'none';
            quizForm.style.display = 'block';
            showQuestion();
            updateProgressBar();
        });

        function showQuestion() {
            const q = questions[currentQuestionIndex];
            questionContainer.innerHTML = `
                <p class="question-text">Question ${currentQuestionIndex + 1}/${questions.length}: ${q.question}</p>
                ${q.answers.map((a, i) => `
                    <label class="answer-label">
                        <input type="radio" name="answer" value="${a.value}" ${userAnswers[currentQuestionIndex] == a.value ? 'checked' : ''}>
                        ${a.text}
                    </label>
                `).join('<br>')}
            `;

            // G√©rer l'affichage des boutons
            prevBtn.style.display = currentQuestionIndex > 0 ? 'inline-block' : 'none';
            nextBtn.style.display = currentQuestionIndex < questions.length - 1 ? 'inline-block' : 'none';
            submitBtn.style.display = currentQuestionIndex === questions.length - 1 ? 'inline-block' : 'none';
        }

        function updateProgressBar() {
            const progressPercent = ((currentQuestionIndex) / questions.length) * 100;
            progressBarFill.style.width = `${progressPercent}%`;
            progressBarFill.textContent = `${Math.round(progressPercent)}%`;
        }

        prevBtn.addEventListener('click', () => {
            saveAnswer();
            currentQuestionIndex--;
            showQuestion();
            updateProgressBar();
        });

        nextBtn.addEventListener('click', () => {
            if (!saveAnswer()) return;
            currentQuestionIndex++;
            showQuestion();
            updateProgressBar();
        });

        function saveAnswer() {
            const selectedOption = document.querySelector('input[name="answer"]:checked');
            if (selectedOption) {
                userAnswers[currentQuestionIndex] = selectedOption.value;
                return true;
            } else {
                alert('Veuillez s√©lectionner une r√©ponse.');
                return false;
            }
        }

        quizForm.addEventListener('submit', (e) => {
            e.preventDefault();
            if (!saveAnswer()) return;

            quizForm.style.display = 'none';
            careerGoalForm.style.display = 'block';
        });

        seeResultBtn.addEventListener('click', () => {
            const careerGoal = document.getElementById('career-goal').value.trim();
            calculateResults(careerGoal);
        });

        function calculateResults(careerGoal) {
            const scores = {
                "Responsable √âthique de l'IA RH": 0, // value: 1
                "Strat√®ge de la Marque Employeur Digitale": 0, // value: 2
                "Designer d'Exp√©rience Collaborateur": 0, // value: 3
                "Architecte des Talents Augment√©s": 0, // value: 4
                "Analyste RH Pr√©dictif": 0 // value: 5
            };

            userAnswers.forEach((value) => {
                const val = parseInt(value);
                const profileKey = profiles[val];
                scores[profileKey]++;
            });

            const totalQuestions = questions.length;
            Object.keys(scores).forEach((key) => {
                scores[key] = (scores[key] / totalQuestions) * 100;
            });

            careerGoalForm.style.display = 'none';

            const resultDiv = document.getElementById("result");
            resultDiv.innerHTML = `
                <h2>R√©sultats du Test</h2>
                <div id="profile-results"></div>
                <canvas id="resultChart" width="400" height="400"></canvas>
                <button class="download-btn" id="download-pdf">T√©l√©charger le R√©sultat</button>
            `;

            displayProfileResults(scores);

            const ctx = document.getElementById("resultChart").getContext("2d");
            const chart = new Chart(ctx, {
                type: "bar",
                data: {
                    labels: Object.keys(scores),
                    datasets: [{
                        label: "Correspondance (%)",
                        data: Object.values(scores),
                        backgroundColor: ["#ffce56", "#36a2eb", "#ff6384", "#4caf50", "#9966ff"]
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: { beginAtZero: true, max: 100 }
                    }
                }
            });

            document.getElementById("download-pdf").addEventListener("click", () => {
                generatePDF(scores, careerGoal);
            });
        }

        function displayProfileResults(scores) {
            const profileResultsDiv = document.getElementById("profile-results");
            const sortedProfiles = Object.entries(scores).sort((a, b) => b[1] - a[1]);

            sortedProfiles.forEach(([profile, score]) => {
                const info = profilesInfo[profile];
                profileResultsDiv.innerHTML += `
                    <div class="profile-result">
                        <i class="profile-icon ${info.icon}"></i>
                        <h3>${profile} - ${score.toFixed(2)}%</h3>
                        <p>${info.description}</p>
                        <p><strong>Secteurs :</strong> ${info.sectors}</p>
                        <p><strong>Missions :</strong> ${info.missions}</p>
                        <p><strong>D√©fis :</strong> ${info.challenges}</p>
                    </div>
                    <hr>
                `;
            });
        }

        function generatePDF(scores, careerGoal) {
            const { jsPDF } = window.jspdf;
            const pdf = new jsPDF();

            const name = document.getElementById('name').value;
            const surname = document.getElementById('surname').value;

            // Personnalisation du PDF
            // Ajouter un fond color√©
            pdf.setFillColor(18, 18, 18); // Couleur de fond sombre
            pdf.rect(0, 0, pdf.internal.pageSize.width, pdf.internal.pageSize.height, 'F');

            pdf.setTextColor(255, 255, 255); // Texte en blanc

            pdf.setFontSize(22);
            pdf.text("R√©sultats du Test - M√©tiers RH de Demain", pdf.internal.pageSize.width / 2, 20, { align: 'center' });

            pdf.setFontSize(16);
            pdf.text(`Nom : ${name}`, 10, 30);
            pdf.text(`Pr√©nom : ${surname}`, 10, 40);
            pdf.text("Ann√©e : 2024", 10, 50);

            if (careerGoal) {
                pdf.text(`Objectif de carri√®re : ${careerGoal}`, 10, 60);
            }

            let yPosition = careerGoal ? 70 : 60;

            const sortedProfiles = Object.entries(scores).sort((a, b) => b[1] - a[1]);

            sortedProfiles.forEach(([profile, score]) => {
                const info = profilesInfo[profile];

                pdf.setFontSize(14);
                pdf.text(`${profile}: ${score.toFixed(2)}%`, 10, yPosition);
                yPosition += 8;
                pdf.setFontSize(12);
                pdf.text(`Description: ${info.description}`, 10, yPosition, { maxWidth: 190 });
                yPosition += 15;
                pdf.text(`Secteurs: ${info.sectors}`, 10, yPosition, { maxWidth: 190 });
                yPosition += 10;
                pdf.text(`Missions: ${info.missions}`, 10, yPosition, { maxWidth: 190 });
                yPosition += 15;
                pdf.text(`D√©fis: ${info.challenges}`, 10, yPosition, { maxWidth: 190 });
                yPosition += 20;

                // V√©rifier si on doit ajouter une nouvelle page
                if (yPosition > pdf.internal.pageSize.height - 30) {
                    pdf.addPage();
                    pdf.setFillColor(18, 18, 18);
                    pdf.rect(0, 0, pdf.internal.pageSize.width, pdf.internal.pageSize.height, 'F');
                    pdf.setTextColor(255, 255, 255);
                    yPosition = 20;
                }
            });

            // Ajouter le graphique
            const canvas = document.getElementById("resultChart");
            const chartImage = canvas.toDataURL("image/jpeg", 1.0);

            if (yPosition + 100 > pdf.internal.pageSize.height) {
                pdf.addPage();
                pdf.setFillColor(18, 18, 18);
                pdf.rect(0, 0, pdf.internal.pageSize.width, pdf.internal.pageSize.height, 'F');
                pdf.setTextColor(255, 255, 255);
                yPosition = 20;
            }

            pdf.addImage(chartImage, "JPEG", 10, yPosition, 180, 100);
            yPosition += 110;

            // Ajouter le texte en bas du PDF
            pdf.setFontSize(12);
            pdf.text("IDRH - @Iga√´l Derrida", 10, pdf.internal.pageSize.height - 10);

            pdf.save("resultats_test_metiers_rh.pdf");
        }
    </script>
</body>
</html>
