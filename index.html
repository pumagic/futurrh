<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test des M√©tiers RH de Demain</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: #ffffff;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background-color: #1e1e1e;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
        }

        h1, h2 {
            text-align: center;
            color: #4caf50;
        }

        p.intro {
            text-align: center;
            font-size: 1.1em;
            color: #cccccc;
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin: 10px 0;
            font-size: 1.1em;
        }

        input[type="text"] {
            width: 100%;
            padding: 10px;
            margin: 10px 0 20px 0;
            font-size: 1em;
            border: none;
            border-radius: 5px;
        }

        button {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            background-color: #4caf50;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #45a049;
        }

        #result {
            margin-top: 30px;
            text-align: center;
        }

        canvas {
            max-width: 100%;
            margin: 20px auto;
        }

        .download-btn {
            margin-top: 20px;
            background-color: #36a2eb;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Quel m√©tier RH de demain est fait pour vous ?</h1>
        <p class="intro">
            D√©couvrez √† quel m√©tier RH du futur vous correspondez ! <br>
            Entrez vos informations pour un r√©sultat personnalis√© et partageable üìÑ.
        </p>
        
        <!-- Fusion des deux formulaires en un seul -->
        <form id="quiz-form">
            <label for="name">Nom :</label>
            <input type="text" id="name" placeholder="Entrez votre nom" required>
            <label for="surname">Pr√©nom :</label>
            <input type="text" id="surname" placeholder="Entrez votre pr√©nom" required>

            <ol id="questions-list"></ol>
            <button type="submit">Voir mon r√©sultat</button>
        </form>
        
        <div id="result"></div>
    </div>

    <script>
        const profiles = {
            "Architecte des Talents Augment√©s": {
                description: "Expert dans l'int√©gration des technologies, vous aidez les collaborateurs √† utiliser les outils IA pour d√©cupler leur potentiel.",
                skills: ["IA g√©n√©rative", "Analyse des donn√©es", "Cr√©ativit√©"],
                training: ["Formation IA en RH", "Analyse des donn√©es avanc√©e", "Certifications IA g√©n√©rative"]
            },
            "Strat√®ge de la Marque Employeur Digitale": {
                description: "Vous cr√©ez une marque employeur irr√©sistible gr√¢ce au marketing RH et au digital.",
                skills: ["Cr√©ativit√©", "Communication", "Litt√©ratie num√©rique"],
                training: ["Formation en marketing RH", "Certifications en communication digitale", "Design de contenu"]
            },
            "Responsable √âthique de l‚ÄôIA RH": {
                description: "Garant des pratiques √©thiques, vous veillez √† une utilisation responsable des technologies RH.",
                skills: ["√âthique", "IA g√©n√©rative", "Leadership"],
                training: ["Formation √©thique et technologie", "Leadership transformationnel", "IA responsable"]
            },
            "Designer d‚ÄôExp√©rience Collaborateur": {
                description: "Vous imaginez et cr√©ez des parcours collaborateurs inspirants et engageants.",
                skills: ["Collaboration", "Intelligence √©motionnelle", "Cr√©ativit√©"],
                training: ["Design Thinking pour RH", "Intelligence √©motionnelle", "Exp√©rience employ√© (EX)"]
            },
            "Analyste RH Pr√©dictif": {
                description: "Vous utilisez la puissance des donn√©es pour anticiper les besoins RH et piloter des strat√©gies gagnantes.",
                skills: ["Analyse des donn√©es", "R√©solution de probl√®mes", "Pens√©e critique"],
                training: ["Analyse RH avanc√©e", "Outils de pr√©diction", "Data visualisation"]
            }
        };

        const questions = [
            {
                question: "Vous d√©couvrez une nouvelle plateforme IA pour le recrutement. Que faites-vous ?",
                answers: [
                    { text: "J'√©value les b√©n√©fices et les limites avant de d√©cider.", value: 1 },
                    { text: "Je teste rapidement pour explorer ses possibilit√©s.", value: 2 },
                    { text: "Je propose √† l'√©quipe de r√©fl√©chir ensemble √† son int√©gration.", value: 3 },
                    { text: "Je l'ajoute directement √† ma bo√Æte √† outils pour gagner en efficacit√©.", value: 4 }
                ]
            },
            {
                question: "Votre priorit√© dans un projet RH technologique est :",
                answers: [
                    { text: "Collaborer avec les parties prenantes d√®s le d√©but.", value: 3 },
                    { text: "Exp√©rimenter rapidement pour obtenir des r√©sultats concrets.", value: 2 },
                    { text: "Automatiser les processus pour optimiser les t√¢ches r√©p√©titives.", value: 4 },
                    { text: "Garantir que tout respecte des standards √©thiques et l√©gaux.", value: 1 }
                ]
            },
            {
                question: "Face √† un probl√®me complexe dans votre √©quipe, votre approche est :",
                answers: [
                    { text: "Organiser un brainstorming pour trouver des solutions ensemble.", value: 3 },
                    { text: "Analyser la situation en profondeur avant de d√©cider.", value: 1 },
                    { text: "Proposer des id√©es innovantes pour sortir des sentiers battus.", value: 2 },
                    { text: "Impl√©menter une solution automatis√©e qui r√©sout le probl√®me.", value: 4 }
                ]
            },
            // ... (Assurez-vous de corriger les guillemets pour toutes les questions)
        ];

        function generateQuestions() {
            const questionsList = document.getElementById("questions-list");
            questions.forEach((q, index) => {
                const li = document.createElement("li");
                li.innerHTML = `
                    <p>${q.question}</p>
                    ${q.answers.map(a => `
                        <label>
                            <input type="radio" name="q${index + 1}" value="${a.value}">
                            ${a.text}
                        </label>
                    `).join('<br>')}
                `;
                questionsList.appendChild(li);
            });
        }

        generateQuestions();

        document.getElementById("quiz-form").addEventListener("submit", (e) => {
            e.preventDefault();

            const scores = {
                "Architecte des Talents Augment√©s": 0,
                "Strat√®ge de la Marque Employeur Digitale": 0,
                "Responsable √âthique de l‚ÄôIA RH": 0,
                "Designer d‚ÄôExp√©rience Collaborateur": 0,
                "Analyste RH Pr√©dictif": 0
            };

            const answers = document.querySelectorAll("input[type='radio']:checked");
            answers.forEach((answer) => {
                const profileKey = Object.keys(profiles)[answer.value - 1];
                scores[profileKey]++;
            });

            const totalQuestions = answers.length;
            Object.keys(scores).forEach((key) => {
                scores[key] = (scores[key] / totalQuestions) * 100;
            });

            const resultDiv = document.getElementById("result");
            resultDiv.innerHTML = `
                <h2>R√©sultats du Test</h2>
                <canvas id="resultChart" width="400" height="400"></canvas>
                <button class="download-btn" id="download-pdf">T√©l√©charger le R√©sultat</button>
            `;

            const ctx = document.getElementById("resultChart").getContext("2d");
            const chart = new Chart(ctx, {
                type: "bar",
                data: {
                    labels: Object.keys(scores),
                    datasets: [{
                        label: "Correspondance (%)",
                        data: Object.values(scores),
                        backgroundColor: ["#4caf50", "#36a2eb", "#ffce56", "#ff6384", "#9966ff"]
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: { beginAtZero: true, max: 100 }
                    }
                }
            });

            document.getElementById("download-pdf").addEventListener("click", () => {
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF();

                const name = document.getElementById('name').value;
                const surname = document.getElementById('surname').value;

                pdf.setFontSize(16);
                pdf.text("R√©sultats du Test - M√©tiers RH de Demain", 10, 10);
                pdf.text(`Nom : ${name}`, 10, 20);
                pdf.text(`Pr√©nom : ${surname}`, 10, 30);
                pdf.text("Ann√©e : 2024", 10, 40);

                let yPosition = 50;
                Object.entries(scores).forEach(([profile, score]) => {
                    pdf.text(`${profile}: ${score.toFixed(2)}%`, 10, yPosition);
                    yPosition += 10;
                    pdf.setFontSize(12);
                    pdf.text(`Description: ${profiles[profile].description}`, 10, yPosition, { maxWidth: 190 });
                    yPosition += 20;
                    pdf.text(`Pistes de formation: ${profiles[profile].training.join(", ")}`, 10, yPosition, { maxWidth: 190 });
                    yPosition += 20;
                    pdf.setFontSize(16);
                });

                const canvas = document.getElementById("resultChart");
                const chartImage = canvas.toDataURL("image/jpeg", 1.0);
                pdf.addImage(chartImage, "JPEG", 10, yPosition, 180, 100);

                pdf.save("resultats_test_metiers_rh.pdf");
            });
        });
    </script>
</body>
</html>
